<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice/5.2 (Solaris Sparc)">
	<META NAME="AUTHOR" CONTENT=" ">
	<META NAME="CREATED" CONTENT="20011029;15444000">
	<META NAME="CHANGEDBY" CONTENT=" ">
	<META NAME="CHANGED" CONTENT="20011029;17332000">
</HEAD>
<BODY>
<H1>1. Strict priority scheduling</H1>
<H2>a) Job based strict priority dispatching</H2>
<P>The objective of this setup is to implement a strict hierarchy of
job classes. Strict means that higher privileged jobs are started
before less privileged jobs if appropriate resources are available.</P>
<P>HOWTO:</P>
<UL>
	<LI><P>use SHARE_FUNCTIONAL_SHARES=0 in schedd_params section of sge_conf(5)</P>
	<LI><P>jobs are submitted with -p &lt;priority&gt;</P>
	<LI><P>scheduler uses jobs priority to derive per job functional
	share</P>
	<LI><P>the higher the jobs priority, the higher the functional
	share, the higher the number of tickets resulting</P>
</UL>
<P>Remarks:</P>
<UL>
<P>      This setup can be used as substitution for the -p &lt;priority&gt;
switch in SGE. If no other scheduling scheme is needed the use of SGE
is recommended instead.</P>
</UL>
<H2>b) Project based strict priority dispatching</H2>
<P>The objective of this setup is to implement a strict hierarchy of
job classes. Strict means that higher privileged jobs are started
before less priviledged jobs if appropriate resources are available.</P>
<P>HOWTO:</P>
<UL>
	<LI><P>one project is kept for each job class</P>
	<LI><P>jobs submitted into a job class by submitting into the
	corresponding project</P>
	<LI><P>the higher the priority of a job class, the higher must be
	the number of override tickets of the corresponding project</P>
	<LI><P>use SHARE_OVERRIDE_TICKETS=0 in schedd_params section of
	sge_conf(5)</P>
	<LI><P>enabling the &quot;replicate-override&quot; switch causes the
	full number of per project override tickets being applied to each
	job of a job class</P>
</UL>
<H1>2. Control resource shares at any time</H1>
<H2>a) User based functional scheduling</H2>
<P>The objective of this setup is a certain share assignment of all
the resources combined in the SGEEE cluster to different users. FCFS
scheduling is used among jobs of the same user.</P>
<P>HOWTO:</P>
<UL>
	<LI><P>add users for each scheduling relevant user</P>
	<LI><P>assign functional shares to each project</P>
<P>       userA     (10)</P>
<P>       userB     (20)</P>
<P>       userC     (20)</P>
<P>       userD     (50)</P>
	<LI><P>use SHARE_FUNCTIONAL_SHARES=1 in schedd_params section of
	sge_conf(5)</P>
</UL>
<H2>b) Project based functional scheduling</H2>
<P>The objective of this setup is a certain share assignment of all
the resources combined in the SGEEE cluster to different projects.
FCFS scheduling is used among jobs of the same project.</P>
<P>HOWTO:</P>
<UL>
	<LI><P>add projects for each scheduling relevant project</P>
	<LI><P>assign functional shares to each project</P>
<P>       projectA     (55)</P>
<P>       projectB     (45)</P>
	<LI><P>use SHARE_FUNCTIONAL_SHARES=1 in schedd_params section of
	sge_conf(5)</P>
</UL>
<H2>c) Department based functional scheduling</H2>
<P>The objective of this setup is a certain share assignment of all
the resources combined in the SGEEE cluster to different departments.
FCFS scheduling is used among jobs of the same department.</P>
<P>HOWTO:</P>
<UL>
	<LI><P>add departments for each scheduling relevant department</P>
	<LI><P>assign functional shares to each department, e.g.</P>
<P>       departmentA (90)</P>
<P>       departmentB (5)</P>
<P>       departmentC (5)</P>
	<LI><P>use SHARE_FUNCTIONAL_SHARES=1 in schedd_params section of
	sge_conf(5)</P>
</UL>
<H1>3. Control resource shares over time</H1>
<H2>a) Project based share-tree scheduling with FCFS within each
project</H2>
<P>The objective of this setup is to guarantee over time a certain
share assignment of all the resources combined in the SGEEE cluster
to different projects. A FCFS scheduling is used among jobs of the
same project.</P>
<P>HOWTO:</P>
<UL>
	<LI><P>add the projects to be used in next step</P>
	<LI><P>setup a share tree reflecting the structure of all scheduling
	relevant projects as leafs</P>
<PRE>
root ------ projectA (75)
 +--------- projectB (25)
</PRE>
	<LI><P>assign share tree shares to the projects</P>
	<LI><P>specify share tree tickets (e.g. 1000000)</P>
</UL>
<H2>b) Project based share-tree scheduling with equal share for each
user within each project</H2>
<P>The objective of this setup is to guarantee over time a certain
share assignment of all the resources combined in the SGEEE cluster
to different projects. An equal share is targeted among the jobs
competing for resources within the same project.</P>
<P>HOWTO:</P>
<UL>
	<LI><P>add the projects to be used in next step</P>
	<LI><P>setup a share tree reflecting the structure of all scheduling
	relevant projects as nodes</P>
<PRE>
root ------ projectA (75) ------- default (10)
 +--------- projectB (25) ------- default (10)
</PRE>
	<LI><P>assign share tree shares to the projects</P>
	<LI><P>add the user &quot;default&quot; as leaf in the tree below
	each of these projects</P>
	<LI><P>specify share tree tickets (e.g. 1000000)</P>
</UL>
<H2>c) Project based share-tree scheduling with per user individual
shares within each project</H2>
<P>The objective of this setup is to guarantee over time a certain
share assignment of all the resources combined in the SGEEE cluster
to   different projects. Individual share assignments per user is
needed.</P>
<P>HOWTO:</P>
<UL>
	<LI><P>add a user(5) object for each user</P>
	<LI><P>add the projects to be used in next step</P>
	<LI><P>setup a share tree reflecting the structure of all scheduling
	relevant projects as nodes</P>
<PRE>
root ------ projectA (75) ------- user1 (5)
 |                         +----- user2 (90)
 |                         +----- user3 (5)
 +--------- projectB (25) ------- user4 (30)
                           +----- user5 (30)
                           +----- user6 (30)

</PRE>
	<LI><P>assign share tree shares to the projects</P>
	<LI><P>add each user as leaf to the projects where they have access
	and assign individual shares</P>
	<LI><P>specify share tree tickets (e.g. 1000000)</P>
</UL>
<P><BR><BR>
</P>
</BODY>
</HTML>
