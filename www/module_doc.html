<table border="0" cellpadding="2" cellspacing="0" width="100%">
<tr>
<td><H2><font color="#336699" class="PageHeader">Source Module Documentation</font></H2></td>
</tr>
</table>
<table border="0" cellpadding="2" cellspacing="0" width="100%">
<tr>
<td>

<br><br>
This document describes the Grid Engine source code modules, and
is written for use by software developers. Our goal is to provide you
with useful information if you are considering participating in the
Grid Engine project or will be using Grid Engine source code. In
addition to this source documentation, the user product documentation
is necessary for a full understanding of the functional operation of
the software. Consequently the 

<A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/doc/htmlman/index.html?content-type=text/html" NAME="man pages">man pages</A>
are refered to herein where appropriate.</P>

<P>If you have problems with finding functions or browsing through
the souce code we suggest the use of grep or preferably <A HREF="http://ctags.sourceforge.net/">ctags</A>.</P>
<H3><font color="#CC3300" class="SectionHeader">1. Job life cycle</font></h3>
<P>The job life cycle is a good way to understand to overall system. 
</P>
<OL>
	<LI>Execd's report load information to qmaster</LI>
	<LI>User submits job using qsub command</LI>
	<LI>Qmaster notifies Schedd about new job</LI>
	<LI>Schedd dispatches job to an Execd</LI>
	<LI>Qmaster delivers job to Execd; Execd starts job using Shepherd</LI>
	<LI>At job end Execd notfies Qmaster about job finish</LI>
	<LI>Qmaster feeds jobs resource consumption in accounting database</LI>
</OL>
<P><IMG SRC="structure.gif" NAME="Graphic1" ALIGN=MIDDLE WIDTH=657 HEIGHT=415 BORDER=0></P>
<H3><font color="#CC3300" class="SectionHeader">2. Components</font></h3>
<H3><font color="#CC3300" class="SectionHeader">2.1 Daemon components</font></H3>
<P>In the &quot;source/daemons&quot; subdirectory there is one
directory for each daemon.</P>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/source/browse/gridengine/source/daemons/qmaster/qmaster.html?rev=1&content-type=text/html" NAME="Qmaster">Qmaster</A></H4>
	<P>The Qmaster (Queue Master) controls the overall behaviour in a
	cluster. For the purpose of scheduling jobs Qmaster cooperates with
	Schedd. The Qmaster is the responsible for answering GDI requests
	from clients and for delivering dispatched jobs to the assigned
	Execd's. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/daemons/schedd/schedd.html?content-type=text/html" NAME="Schedd">Schedd</A></H4>
	<P>The Schedd (Scheduling Daemon) gets notified via events about all
	scheduling relevant information. The resulting scheduling decisions
	are sent as orders to Qmaster. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/daemons/execd/execd.html?content-type=text/html" NAME="Execd">Execd</A></H4>
	<P>The Execd (Execution Daemon) provides Qmaster with information
	about utilization and availability of resources. Each job sent to
	Execd by Qmaster is started by writing all relevant information into
	a couple files describing the job and forking a Sheperd. After
	Shepherds termination Execd reports details about the job run back
	to Qmaster. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/daemons/shepherd/shepherd.html?content-type=text/html" NAME="Shepherd">Shepherd</A></H4>
	<P>The Shepherd starts all kinds of jobs according to what he finds
	in the per-job configuration files written by Execd. If necessary
	administrator supplied procedures are started before the job is
	started (prolog, PE start-up), during job run (checkpoint/migrate,
	terminate/suspend/resume) and after job termination (PE shut-down,
	epilog). 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/daemons/commd/commd.html?content-type=text/html" NAME="Commd">Commd</A></H4>
	<P>Nearly all network communication in a cluster is handled via the
	Commd (Communication Daemon). Daemons and clients use the commlib
	(communication library) calls to send and receive messages
	(sync/async), but also a hostname resolving service is provided by
	Commd. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/daemons/shadowd/shadowd.html?content-type=text/html" NAME="Shadowd">Shadowd</A></H4>
	<P>The Shadowd (Shadow Daemon) detects failures of the Qmaster and
	starts a new Qmaster if necessary. 
	</P>
</UL>
<H3><font color="#CC3300" class="SectionHeader">2.2 Client components</font></H3>
<P>In the &quot;source/clients&quot;
subdirectory there is one directory for each client.</P>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qsub?content-type=text/html" NAME="Qsub">Qsub</A></H4>
	<P>Qsub combines all information provided with the command line and
	in per-cluster or per-user default settings files in a job object
	and sends the job via GDI to Qmaster. As response Qsub receives a
	job ID and prints it. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qrsh?content-type=text/html" NAME="Qrsh">Qrsh</A></H4>
	<P>Qrsh combines all job relevant information in a job object like
	Qsub does and sends it as an interactive job via GDI to Qmaster. For
	stdin/stdout/stderr redirection rsh command is forked by qrsh. The
	rsh command cooperates with the rshd forked by shepherd for jobs of
	that type. Instead of rsh/rshd also other commands can be used. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/qmon/qmon.html?content-type=text/html" NAME="Qmon">Qmon</A></H4>
	<P>Qmon is a Motif GUI allowing to administer and monitor the system
	but also to submit and monitor jobs. Qmon uses GDI to retrieve from
	Qmaster the whole configuration and to change it. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qdel?content-type=text/html" NAME="Qdel">Qdel</A></H4>
	<P>Qdel uses GDI to initiate job termination. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qacct?content-type=text/html" NAME="Qacct">Qacct</A></H4>
	<P>Qacct produces accounting reports by scanning the accounting data
	file. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qlogin?content-type=text/html" NAME="Qlogin">Qlogin</A></H4>
	<P>Qlogin invokes an interactive login session in the current
	terminal using GDI. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qresub?content-type=text/html" NAME="Qresub">Qresub</A></H4>
	<P>Qresub creates a copy from an existing job using GDI. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qselect?content-type=text/html" NAME="Qselect">Qselect</A></H4>
	<P>Qselect prints a list of queues matching the specified criteria
	from the command line. The necessary information about the clusters
	configuration is fetched from Qmaster using GDI. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qalter?content-type=text/html" NAME="Qalter">Qalter</A></H4>
	<P>Qalter modifies an already submitted job using GDI. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qhold?content-type=text/html" NAME="Qhold">Qhold</A></H4>
	<P>Qhold puts a hold on a job using Qalter. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qrls?content-type=text/html" NAME="Qrls">Qrls</A></H4>
	<P>Qhold releases a hold from a job using Qalter. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qsh?content-type=text/html" NAME="Qsh">Qsh</A></H4>
	<P>Qsh submits an interactive X-windows session job using GDI. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qconf?content-type=text/html" NAME="Qconf">Qconf</A></H4>
	<P>Qconf allows to add, delete, modify and view the configuration of
	all kind of configuration objects. Qconf uses GDI to do this. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qhost?content-type=text/html" NAME="Qhost">Qhost</A></H4>
	<P>Qhost shows the current status of all hosts in the cluster based
	on information retrieved using GDI. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qstat?content-type=text/html" NAME="Qstat">Qstat</A></H4>
	<P>Qstat shows the current status of all queues in the cluster based
	on information retrieved using GDI. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/clients/clients.html#qmod?content-type=text/html" NAME="Qmod">Qmod</A></H4>
	<P>Qmod allows to modify the state of queues and jobs by using GDI. 
	</P>
</UL>
<H3><font color="#CC3300" class="SectionHeader">2.3 Libraries</font></H3>
<P>In the &quot;source/libs&quot;
subdirectory there is one directory for each library.</P>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/libs/rmon/rmon.html?content-type=text/html" NAME="librmon">librmon</A></H4>
	<P>This low level library provides functionality to run daemons in a
	monitoring mode. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/libs/rmon/uti.html?content-type=text/html" NAME="libuti">libuti</A></H4>
	<P>A low level library with several utility functions. This library
	bases on functionality of librmon. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/libs/cull/cull.html?content-type=text/html" NAME="libcull">libcull</A></H4>
	<P>The generic list library which is used in nearly all components
	of the system. The cull library bases on functionality of libuti and
	librmon. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/daemons/commd/commd.html?content-type=text/html" NAME="libcomm">libcomm</A></H4>
	<P>The communication libraryis the interface providing communication
	via Commd. This library bases on librmon. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/daemons/gdi/gdi.html?content-type=text/html" NAME="libgdi">libgdi</A></H4>
	<P>The Gridengine Database Interface library provides methods to
	retrieve, add, delete and modify all internal objects hosted by the
	Qmaster. The GDI library bases on libcomm and libcull. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/daemons/sched/sched.html?content-type=text/html" NAME="libsched">libsched</A></H4>
	<P>This library contains many important high-level functions mainly
	used by Schedd. Some of them however have turned out to be very
	helpful also in other clients like Qstat, Qhost or qmon and also in
	Qmaster. 
	</P>
</UL>
<H3><font color="#CC3300" class="SectionHeader">2.4 Third-party components</font></H3>
<P>The &quot;source/3rdparty&quot; directory contains modules with
different licenses than SISSL. 
</P>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/3rdparty/qmake/qmake.html?content-type=text/html" NAME="Qmake">Qmake</A></H4>
	<P>This client is a GNU make enhanced with transparent remote
	execution. The implementation of transparent remote execution bases
	on a forked 'qrsh -inherit' command. 
	</P>
</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/3rdparty/qtcsh/qtcsh.html?content-type=text/html" NAME="Qtcsh">Qtcsh</A></H4>
	<P>This client program is an extension to the popular csh(1)
	derivative tcsh. The implementation of transparent remote execution
	bases on libgdi. 
	</P>
	</UL>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/3rdparty/remote/remote.html?content-type=text/html" NAME="Qtcsh">Remote
	tools</A></H4>
	<P>This directory is the home of rsh, rshd, rlogin.</P>
</UL>
<H3><font color="#CC3300" class="SectionHeader">2.5 Utilities</font></H3>
<P>The &quot;source/utilbin&quot; directory contains <A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/utilbin/utilbin.html?content-type=text/html" NAME="binaries">binaries</A>
that are needed during installation of Grid Engine, for diagnosis purposes or for the job samples.</P>
<H3><font color="#CC3300" class="SectionHeader">2.6 Dist</font></H3>
<P>The &quot;source/dist&quot; directory contains <A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/dist/dist.html?content-type=text/html" NAME="files and directories">files and directories</A>
which are part of a Grid Engine distribution.</P>
<H3><font color="#CC3300" class="SectionHeader">3. Security</font></H3>
<P>The &quot;source/security&quot; directory contains modules handling security.
</P>
<UL>
	<LI><H4><A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/security/security.html?content-type=text/html" NAME="Security">Security</A></H4>
	<P>Contains security related modules.</P>
</UL>
<H3><font color="#CC3300" class="SectionHeader">4. Experimental</font></H3>
<P>Each subdirectory of the &quot;source/experimental&quot; directory contains an
experimental module. Those modules cannot be expected to work - although some may, 
at least with a bit of work. The 
<A HREF="http://gridengine.sunsource.net/unbranded-source/browse/~checkout~/gridengine/source/experimental/experimental.html?content-type=text/html" NAME="experimental modules">experimental modules</A>
are provided here for information purposes mainly and may be helpful if you plan to 
enhance Grid Engine in a direction similar to one of the modules. Some also can be a 
valid starting point for such an effort.
</td>
</tr>
</table>

