<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta http-equiv="CONTENT-TYPE" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.77 [en]C-CCK-MCD   (Win98; U) [Netscape]">
   <meta name="AUTHOR" content="Andrew Boulus">
   <meta name="CREATED" content="20010605;21544200">
   <meta name="CHANGED" content="20020624;16324800">
   <title>TCP Installation Guide</title>
<style>
	<!--
		@page { margin: 0.79in }
		H1 { margin-bottom: 0.08in }
		TD P { margin-bottom: 0.08in }
		H2 { margin-bottom: 0.08in }
		P { margin-bottom: 0.08in }
		H1.western { font-family: "Arial", sans-serif; font-size: 16pt }
		H2.western { font-family: "Arial", sans-serif; font-size: 14pt; font-style: italic }
	-->
	</style>
</head>
<body>

<center>
<h1>
Technical Computing Portal</h1></center>

<center>
<h1>
Installation Guide</h1></center>

<center><a href="mailto:dan.fraser@sun.com">Dan.Fraser@Sun.COM</a>
<p><a href="mailto:ron.selva@sun.com">Ron.Selva@Sun.COM</a></center>

<p><b><font color="#FF0000">Note 1:&nbsp; It is anticipated that the Technical
Computing Portal will be renamed the Sun Grid Portal .&nbsp; The final
approval to rename the Technical Computing Portal has not yet been granted.&nbsp;
For the purposes of this installation guide, it is assumed that Sun Grid
Portal will become the official name.</font></b>
<p><b><font color="#FF0000">Note 2:&nbsp; To be consistent with Sun policies
regarding third party, open source, or shareware software, and to comply
with the Sun open source/shareware review and approval process, we have
removed both the O'Reilly Servlet and the VNC shareware software from the
Sun Grid Portal distribution.&nbsp; This installation guide has been modified
to include instructions for downloading the software from the respective
sites and for the specific steps to be followed for incorporating the software
for use with the Sun Grid Portal.&nbsp; Please refer to Step 3 of the Installation
Procedure (Sun Grid Portal Integration (Glue) Package) for additional details.</font></b>
<h1>
Table of Contents</h1>

<div ID="Table of Contents1">
<div STYLE="margin-bottom: 0in"><a href="#Introduction & Technical Acknowledgments">Introduction
&amp; Technical Acknowledgments</a>
<blockquote><a href="#Solution Components Detail">Solution Components Detail</a>
<br><a href="#Data Set">Data Set</a>
<br><a href="#Compute Engine">Compute Engine</a>
<br><a href="#Java Servlet">Java Servlet</a>
<br><a href="#Portal Environment">Portal Environment</a>
<br><a href="#Multi- Domain Environment">Multi- Domain Environment</a></blockquote>
</div>

<div STYLE="margin-bottom: 0in"><a href="#Installation Procedure">Installation
Procedure</a>
<blockquote><a href="#Installation Procedure Summary">Installation Procedure
Summary</a>
<br><a href="#Step 1: Grid Engine">Step 1: Grid Engine</a>
<br><a href="#Step 2: iPlanet Portal Server">Step 2: SunONE Portal Server</a>
<br><a href="#Step 3: Install the SGP integration (Glue) package.">Step
3: Sun Grid Portal Integration (Glue) Package</a>
<br><a href="#Step 4: Configure iPlanet Portal Server.">Step 4: Configure
SunONE Portal Server</a>
<br><a href="#Step 5: Using Grid Portal">Step 5: Using Sun Grid Portal</a>
<br><a href="#Step 6: Register New Applications with SGP">Step 6: Register
New Applications with Sun Grid Portal</a></blockquote>
</div>
<a href="#A Tip for Developers">A Tip for Developers</a>
<p><a href="#Appendix A: Adding Channels Manually">Appendix A: Adding Channels
Manually</a>
<p><a href="#Appendix B - Screen shots">Appendix B: Screen shots</a></div>

<br>&nbsp;
<h1>
<a NAME="Introduction & Technical Acknowledgments"></a>Introduction &amp;
Technical Acknowledgments</h1>

<div STYLE="margin-bottom: 0in">The Sun Grid Portal (SGP) solution enables
organizations to provide flexible, secure and managed access to High Performance
Computing resources. The solution is designed to be implemented in a variety
of environments, from University and Research Institutes to Commercial
organizations making use of HPC technologies for aerospace, automotive,
manufacturing and other compute intensive applications. The solution enables
these resources to be harnessed and taken to the Internet in a secure,
accountable manner.A high level architectural view of this solution is
shown in illustration 1.</div>

<p><br><img SRC="gp_layers.gif" NAME="Graphic1" BORDER=0 height=369 width=417>
<br><i><font size=-1>Illustration 1</font></i>
<br>&nbsp;

<p STYLE="margin-bottom: 0in">The illustration details the component layers
that need to be integrated in the solution.

<p STYLE="margin-bottom: 0in">We would like to especially thank those who
made significant technical contributions to the SGP:
<ul STYLE="margin-left: 0.2in">
<div STYLE="margin-bottom: 0in">Fr&eacute;d&eacute;ric Parient&eacute;
for his vision and foundational implementation of the SGP servlet source
code.</div>
</ul>

<ul STYLE="margin-left: 0.2in">
<div STYLE="margin-bottom: 0in">David Bunker for the practical implementation
of SunONE Portal Server with the SGP code and significant documentation
contributions.</div>
</ul>

<ul STYLE="margin-left: 0.2in">
<div STYLE="margin-bottom: 0in">Eric Sharakan for adding &amp; documenting
(single-sign-on) X-window support to SGP.</div>
</ul>

<h1 CLASS="western">
<a NAME="Solution Components Detail"></a>Solution Components Detail</h1>

<h2 CLASS="western">
<a NAME="Data Set"></a>Data Set</h2>
The Data Set layer represents the information that is processed by the
compute engine. It includes the raw data that is accessed by applications
for compare and process operations, the input arguments and parameters
and the output from the processing commands.
<h2 CLASS="western">
<a NAME="Compute Engine"></a>Compute Engine</h2>
The Compute Engine layer is essentially Grid Engine. Grid Engine is a distributed
application processing solution from Sun Microsystems. Grid Engine controls
the submission of jobs to the Grid Cluster and Grid Cells (Sub Clusters),
the distribution of jobs to execution hosts within the cluster and the
administration, management and auditing of these jobs to and from processing
queues. Grid Engine can be integrated with other applications used in the
processing of compute intensive problems.
<h2 CLASS="western">
<a NAME="Java Servlet"></a>Java Servlet</h2>

<div STYLE="margin-bottom: 0in">The Java Servlets used in this solution
have been created by Sun Microsystems to provide an interface between the
Grid Engine and the SunONE Portal Server. The Java Servlets used in this
guide are <b>SunTCP</b> and <b>AdminTCP</b> and are provided with legal
conditions as detailed in the source code. These applications interact
with Grid Engine's functions and SunONE Portal Server's APIs to provide
Content Provider windows to the portal environment.</div>

<h2 CLASS="western">
<a NAME="Portal Environment"></a>Portal Environment</h2>
The Portal Environment is provided using the SunONE Portal Server. Portal
Server provides the capabilities of personalization, customization, security
and aggregation to a Java enabled web browser. Portal Server can be deployed
in a multi-domain scenario, utilizing varying authentication methods and
role functions within each domain.
<h2 CLASS="western">
<a NAME="Multi- Domain Environment"></a>Multi- Domain Environment</h2>
The Multi-Domain Environment enables organizations to provision specific
content, manage multiple authentication and security structures and create
a personalized and customizable user experience with consistent look and
feel within the domains. Within domains user roles are implemented allowing
varying security levels and responsibilities to be assigned to users within
the portal environment. In this solution these roles are used to differentiate
between administrators, support personnel and end users. The administrative
controls allowed within a domain provide a level of delegated administration
to users of the solution. The Portal Server, it's domains and the roles
and users within the domain can be customized at all levels, allowing organizations
to provision content and services at a certain level and have those functions
"inherited" by lower level categories. For example an application could
be provisioned at the portal server level and this application could then
be made available to all domains, roles and users within the portal environment.
<p>Illustration 2 represents graphically the portal domain structure.
<br>&nbsp;
<br>&nbsp;

<p STYLE="margin-top: 0.08in; margin-bottom: 0.08in"><img SRC="iPS_domains.gif" NAME="Graphic2" BORDER=0 height=455 width=666 align=BOTTOM>
<br><i><font size=-1>Illustration 2</font></i>
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;

<p STYLE="margin-bottom: 0in">Illustration 2 shows the flexibility of the
portal environment to provision domains each with a different look and
feel and authentication method; roles to perform specific tasks within
the portal framework with different authentication methods; sub-roles;
and users within the role structure with differing authentication methods.
<br>&nbsp;
<h1 CLASS="western">
<a NAME="Installation Procedure"></a>Installation Procedure</h1>

<h2 CLASS="western">
<a NAME="Installation Procedure Summary"></a>Installation Procedure Summary</h2>
We will assume that the computer hardware, base operating system (including
latest patches) and network configuration has been completed.
<p>Step 1: Install Grid Engine (and Sun ClusterTools w/ loose integration
for MPI support).
<p>Step 2: Install SunONE Portal Server.
<p>Step 3: Install the Sun Grid Portal Integration Package.
<p>Step 4: Adjust the configuration of SunONE Portal Server.
<p>Step 5: Test the Sun Grid Portal
<p>Step 6: Register new applications with Sun Grid Portal
<br>&nbsp;
<h2 CLASS="western">
<a NAME="Step 1: Grid Engine"></a>Step 1: Grid Engine</h2>

<ol>Download the latest version of Grid Engine from <a href="http://www.sun.com/">http://www.sun.com/gridware.</a>

<p STYLE="font-variant: normal; font-style: normal; text-decoration: none">Follow
the installation instructions. The default queues and the default cell
will work fine.

<p STYLE="font-variant: normal; font-style: normal; text-decoration: none">If
MPI jobs will be run through the portal:
<br>&nbsp;
<ol>Download and install the latest version of the HPC ClusterTools software
at <a href="http://supportforum.sun.com/clustertools">http://supportforum.sun.com/clustertools</a>.

<p STYLE="font-variant: normal; font-style: normal; text-decoration: none">Create
a loose integration for HPC ClusterTools and Grid Engine. The Loose Integration
package is a part of the Grid Engine download (version 5.3 or later) and
may be found under the directory <b>HPC_GE_Integration</b>. Follow the
directions in the <b>README</b> file.</ol>
</ol>

<h2 CLASS="western">
<a NAME="Step 2: iPlanet Portal Server"></a>Step 2: SunONE Portal Server</h2>

<div STYLE="margin-bottom: 0in">Download SunONE Portal Server 3.0, SP3A
(or later release) from <a href="http://www.iplanet.com/">http://www.iplanet.com</a>.
The SP3A (or later) release is required for X-windows support in SGP. Note,
however, that SGP has not yet been integrated with SunONE Portal Server
6.0, although that work is in progress.&nbsp; Since the exact questions
that are asked when installing SunONE Portal Server vary with the type
and version of installation, the following is only a general guide. Most
demo users can take all the defaults except for the <b>root of the profile
role tree </b>as indicated below. Using the <b>ipsinstall</b> script, first
install the Server component, then if desired install the Gateway component.
These can be installed on the same system or different systems. The Gateway
must be installed for X-windows graphics support, but other SGP functions
work fine without a gateway. Without a Gateway, the access page uses the
ordinary "http://...." instead of "https://....".</div>

<ul STYLE="margin-left: 0.2in">
<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Generally
you should install in the <b>/opt</b> (default) directory.</div>
</ul>

<ul STYLE="margin-left: 0.2in">
<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">When
asked if this will be an <b>open Portal install</b> this is SunONE Portal
Server lingo that means without a gateway. Some have found it simpler to
install without a gateway and add a gateway later if desired (specifically
for using the X-windows graphics capability.) The default is to use a gateway,
but make sure to install the gateway after the server has been installed.</div>
</ul>

<ul STYLE="margin-left: 0.2in">
<div STYLE="margin-bottom: 0in">If asked about using <b>SSL connectivity
to the server</b>, this refers only to the communications between the Server
and the Gateway. This may be required in ultra-sensitive environments,
but is not usually necessary. All external communication through the gateway
automatically uses SSL (i.e. https). When in doubt, take the default.</div>
</ul>

<ul STYLE="margin-left: 0.2in">
<div STYLE="margin-bottom: 0in">When asked about the <b>hostname</b>, <b>sub-domain</b>,
and <b>domain</b> for the server (or gateway). The following examples apply:
<b>mercury.sun.com</b>
would have <b>mercury</b> as the hostname, no subdomain (use . ) and <b>sun.com</b>
as the domain. If the system were <b>mercury.iforce.sun.com</b>, then <b>iforce</b>
would be the sub-domain and <b>sun.com</b> would be the domain name. These
names must be specified for both the server and gateway components. In
other words there must be a line in the <b>/etc/hosts</b> file that links
both names such as the following:
<p><b><font face="Thorndale">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
129.146.60.220 scserv220 loghost scserv220.iforce.sun.com</font></b>
<p>(This must be done prior to beginning the SunONE Portal Server installation).</div>
</ul>

<ul STYLE="margin-left: 0.2in">
<div STYLE="margin-bottom: 0in">When specifying the <b>root of the profile
role tree </b>the default may be something like <b>sun.com</b> which is
unacceptable, since the SGP requires this name to be a valid username.
Here instead of the default, use <b>suntcp</b>. Whatever name is used however
must be the same when later installing the gateway.</div>
</ul>

<ul STYLE="margin-left: 0.2in">
<div STYLE="margin-bottom: 0in">Next, the <b>user for the profile role
tree</b> must be <b>root</b>. Take the default.</div>
</ul>

<ul STYLE="margin-left: 0.2in">
<div STYLE="margin-bottom: 0in">It is good to select the default (y) to
start the server after it has been installed.</div>
</ul>

<ul STYLE="margin-left: 0.2in">
<div STYLE="margin-bottom: 0in">Next select <b>2</b> to begin installing
the gateway (unless this is not required). Be sure the <b>root of tree</b>
is the same name specified above, and that all corresponding domain names
match exactly.</div>
</ul>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Once
all components are installed you can test for a successful installation
by typing:
<p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
https://hostname.sub-domain.domain</b>
<p>or, for the example being used in this document:
<p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
https://mercury.sun.com</b>
<br>&nbsp;</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">in
a browser window. (If there is no gateway, you can connect directly by
using <b>http </b>instead of <b>https</b>.) If you see the default SunONE
Portal Server screen, congratulations you can go on to step 3. If there
is an error, try restarting the SunONE Portal Server by typing:</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;
<br><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
# /etc/init.d/ipsserver start</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
# /etc/init.d/ipsgateway start</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;
<br>Then try opening the page again. If there is still an error, make sure
the proxies are turned off in the Browser, and try again. If there is still
no success, there was probably an error in the install and you will need
to reinstall everything. (Do not feel bad, most successful installations
have needed to reinstall the SunONE Portal Server &amp; Gateway several
times.) You can also refer to the SunONE Portal Server documentation for
further information.
<p>Finally, it is currently necessary to change the <b>umask</b> value
that is set in the <b>/etc/init.d/ipsserver</b> and <b>/etc/init.d/ipsgateway
</b>scripts
from the supplied value of <b>077</b> to a new value of <b>022</b>.&nbsp;
Once this change has been made to these scripts, restart both the server
and gateway as described above.</div>

<h2 CLASS="western">
<a NAME="Step 3: Install the SGP integration (Glue) package."></a>Step
3: Sun Grid Portal Integration (Glue) Package.</h2>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">The
following files will need to be downloaded before you start the Sun Grid
Portal installation process.&nbsp; For the purposes of this installation
guide, it will be assumed that all of these files will be downoaded into
the <b>/tmp</b> directory.
<p>First, download the Sun Grid Portal&nbsp; installation package that
you received from the SGP development team (<b>gridportal.tar.gz</b>).
<br>&nbsp;</div>

<div STYLE="margin-bottom: 0in">Next,&nbsp; after carefully reading the
license conditions, download the O'Reilly Servlet package - <b>cos-27May2002.zip</b>
- (or later version) from:
<center>
<p><a href="http://www.servlets.com/cos">http://www.servlets.com/cos</a></center>

<p>Finally, download the VNC shareware software from:
<center>
<p><a href="htto://www.uk.research.att.com/vnc/xvnc.html">http://www.uk.research.att.com/vnc/xvnc.html</a></center>

<p>To find the appropriate VNC files, select the <b>Download</b> option
on this Web page, carefully read the GNU General Public Licence conditions
and then check the <b>Solaris 2.5 (SPARC)</b> box and the
<b>Java sources
(30K)</b> box.&nbsp; Select <b>Proceed to download</b>.&nbsp; This should
result in the downloading of the two files:
<center>
<p><b>vnc-3.3.3r2_sun4_sosV_5.5.tgz</b>
<br><b>vnc-3.3.3r2_javasrc.tgz</b></center>

<p><br></div>

<table BORDER CELLSPACING=3 CELLPADDING=4 WIDTH="100%" >
<caption>&nbsp;</caption>

<tr>
<td VALIGN=TOP WIDTH="100%">
<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">Become
root and create the SGP_ROOT installation directory</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">#
mkdir -p /export/GridPortal&nbsp;</font>
<p><font color="#000000">&nbsp;&nbsp;&nbsp;&nbsp; </font><font color="#FF0000">(Note:
/export/GridPortal must be an NFS shared file system across all Grid Engine
nodes)</font>
<br>&nbsp;</div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">#
chmod 755 /export/GridPortal</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">#
SGE_ROOT=&lt;where Grid Engine has been installed></font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">#
SGE_CELL=&lt;Grid Engine sge_cell if not default cell></font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">#
COMMD_PORT=&lt;Grid Engine commd port></font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">#
export SGE_ROOT SGE_CELL COMMD_PORT</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">#
cd /export/GridPortal</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">#
gzip -dc /tmp/gridportal.tar.gz | tar xvf -</font>
<p><font color="#000000">&nbsp;&nbsp;&nbsp;&nbsp; </font><font color="#FF0000">(Prior
to the official open-source release of Sun Grid Portal, the </font><b><font color="#000000">gridportal.tar.gz</font></b><font color="#FF0000">
file includes a&nbsp;</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; directory named
</font><b><font color="#000000">infotext</font></b><font color="#FF0000">
that contains the </font><b><font color="#000000">infotext.tar</font></b><font color="#FF0000">
file, which is needed for environments&nbsp;</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; that have installed
early releases of Sun Grid Engine 5.3 or prior releases of Sun Grid Engine.&nbsp;</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The required </font><b><font color="#000000">infotext</font></b><font color="#FF0000">
binaries were not supplied in these prior releases of Sun Grid Engine,
but&nbsp;</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; are needed for
the purposes of this Sun Grid Portal installation.&nbsp; Check the </font><b><font color="#000000">SGE_ROOT/utilbin</font></b>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; directory for
the presence of the
</font><b><font color="#000000">infotext</font></b><font color="#FF0000">
binaries in both the </font><b><font color="#000000">solaris</font></b><font color="#FF0000">
and </font><b><font color="#000000">solaris64</font></b><font color="#FF0000">
subdirectories.</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If they are not
there, and the
</font><b><font color="#000000">gridportal.tar.gz</font></b><font color="#FF0000">
file contained them, please install them using the&nbsp;</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; following two
commands.&nbsp; Otherwise, skip to the </font><b><font color="#000000">cd
/tmp</font></b><font color="#FF0000"> command below.)</font>
<p><font color="#000000"># cd $SGE_ROOT/utilbin</font>
<br><font color="#000000"># tar xvf /export/GridPortal/infotext/infotext.tar&nbsp;</font>
<br><font color="#000000"># cd /tmp</font>
<br><font color="#000000"># unzip cos-27May2002.zip lib/cos.jar</font>
<br><font color="#000000"># cd /export/GridPortal</font>
<br><font color="#000000"># gzip -dc /tmp/vnc-3.3.3r2_sun4_sosV_5.5.tgz
| tar xvf -</font>
<br><font color="#000000"># cd vnc_sun4_sosV_5.5</font>
<br><font color="#000000"># gzip -dc /tmp/vnc-3.3.3r2_javasrc.tgz | tar
xvf -</font>
<br><font color="#000000"># cd ..</font>
<br><font color="#000000"># vnc_patches/applyVncPatches</font>
<p><font color="#000000">&nbsp;&nbsp; </font><font color="#FF0000">Note:
You will be asked by the install script below to supply&nbsp; the following
parameters:</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
O'Reilly servlet path - use </font><b><font color="#000000">/tmp/lib/cos.jar</font></b><font color="#FF0000">
assuming you followed the exact steps above</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Vnc root directory - use </font><b><font color="#000000">/export/GridPortal/vnc_sun4_sosV_5.5</font></b><font color="#FF0000">
assuming you followed&nbsp;</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
the exact steps above</font>
<br><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Grid Portal domain - for consistency with the nomenclature in this guide,
use </font><b><font color="#000000">suntcp</font></b>
<p><font color="#000000"># ./install -gp</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">Installing
Grid Portal servlets</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">-------------------------------</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">We
will ask for</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">-
the O'Reilly servlet location</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">-
the SunONE Portal Server (iPS) root directory</font>
<br><font color="#000000">- the Vnc root directory (optional)</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">-
the Grid Portal domain</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">The
Grid Portal is using the O'Reilly servlet cos.jar</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">The
version we used for testing is available as</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">http://www.servlets.com/cos/cos-27May2002.zip</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">Please
read the license conditions carefully and download</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">this
file. Then proceed by unzipping it, e.g. like this</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">%
cd /tmp</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">%
unzip cos-27May2002.zip lib/cos.jar</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">This
path must be entered here, e.g. /tmp/lib/cos.jar</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">Please
enter the O'Reilly servlet path >> /tmp/lib/cos.jar</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">Please
enter the iPS root directory ( default: /opt ) >> /opt</font>
<br><font color="#000000">Do you want to use VNC >> y</font>
<br><font color="#000000">Please enter the VNC root directory >> /export/GridPortal/vnc_sun4_sosV_5.5</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">Please
enter the Grid Portal domain >> suntcp</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">You
entered the following installation information</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">O'Reilly
servlet: /tmp/lib/cos.jar</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">Grid
Portal root: /export/GridPortal</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">iPS
install directory: /opt</font>
<br><font color="#000000">VNC root directory: /export/GridPortal/vnc_sun4_sosV_5.5</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">Grid
Portal domain: suntcp</font>
<br><font color="#000000">Do you want to use these parameters (y/n) [y]>></font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">The
Grid Portal servlets will now be installed. iPS is automatically restarted.</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">Do
you want to proceed (y/n) [y]>>&nbsp;</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">stopping
auth helpers ... done.</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">stopping
web server ... done.</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">stopping
directory server ... done.</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">stopping
gateway ... done.</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">No
change to /opt/netscape/server4/https-bilbo.Germany.Sun.COM/config/rules.properties</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">No
change to /opt/netscape/server4/https-bilbo.Germany.Sun.COM/config/jvm12.conf</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">Do
you want to install example applications (y/n) [y]>></font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">stopping
auth helpers ... done.</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">stopping
web server ... done.</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">stopping
directory server ... done.</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">starting
auth helpers ... done.</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">removing
/opt/netscape/directory4/slapd-bilbo/locks...done</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">starting
directory server ... done.</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">starting
web server ... done.</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">starting
gateway ... done.</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">Do
you want to install channels (y/n) [n]>>&nbsp;</font></div>

<div STYLE="background: #e6e6e6; color: #000000"><font color="#000000">The
installation has completed.</font></div>
</td>
</tr>

<tr>
<td></td>
</tr>
</table>


<p STYLE="margin-bottom: 0in">Every user that utilizes VNC for X-Windows
applications must change his/her environment settings. VNC is called from
the servlet with a
<br>&nbsp;
<div STYLE="margin-bottom: 0in"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
su - &lt;user> -c vncserver</b></div>

<div STYLE="margin-bottom: 0in">&nbsp;
<br>command and inherits the environment of the user.&nbsp; Add the following
to the user's environment (.cshrc or .profile or similar):</div>

<div STYLE="margin-bottom: 0in">&nbsp;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>setenv SGP_ROOT /export/GridPortal</b>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<b>setenv VNC_ROOT $SGP_ROOT/vnc_sun4_sosV_5.5</b>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
or
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>export SGP_ROOT=/export/GridPortal</b>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<b>export VNC_ROOT=$SGP_ROOT/vnc_sun4_sosV_5.5</b>
<p>Finally, set the <b>PATH</b> variable as follows:
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<b>SGP_PATH=/export/GridPortal</b>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<b>PATH=$PATH:$SGP_ROOT/vnc_sun4_sosV_5.5:/usr/openwin/bin</b>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<b>export PATH SGP_PATH</b>
<p>[For debugging purposes, the output logs from the VNC software are stored
in this user's directory under the hidden directory ".vnc".]
<p>Test the <b>gethomedir </b>script :
<p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
# $SGP_ROOT/bin/gethomedir $SGP_ROOT <i>username</i></b>
<p>This should return the following output:
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<b>/export/GridPortal/workspace/username</b></div>

<p><br>Next the channels can be added.&nbsp; If this is a clean install
of SunONE Portal Server SP4 (i.e., no additional channels have been added
to the portal server) then you can say yes when asked for installing channels
during installation. Otherwise you MUST manually add the channels by following
the steps in Appendix A.
<p>If you have previously installed earlier versions of Sun Grid Portal
(then known as the Technical Computing Portal), you will need to delete
the<b> suntcp.jar</b> file from <b>/opt/SUNWips/lib</b>.
<br>&nbsp;
<h2 CLASS="western">
<a NAME="Step 4: Configure iPlanet Portal Server."></a>Step 4: Configure
SunONE Portal Server</h2>

<div STYLE="margin-bottom: 0in">Limit the portal server so that it accepts
only UNIX authentication (this simplifies user login by eliminating one
screen.) Then configure the Netlet to allow the X-windows application interface
to function properly.</div>

<ol>
<div STYLE="margin-bottom: 0in">Open a browser window and go to the URL
<b>http://mercury.sun.com:8080/console</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Login
as root with the system root passwd</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Manage
Domains</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Click
<b>suntcp
</b>(or
whatever domain name was used in the installation)</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Authentication</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Unselect
all but UNIX authentication</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Submit</b></div>
</ol>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Next
the X-window configuration:</div>

<ol>
<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
M<b>anage Domains</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Click
<b>suntcp</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Expand
the Applications tab by clicking on the key next to <b>Applications</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Netlet</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Decide
how many simultaneous X server sessions you want to support (one X server
session corresponds to one logged in SGP user). Add netlet rules as shown
, following the pattern for as many simultaneous sessions as desired (incrementing
the port numbers by one for each subsequent rule) based on the portal server
hostname (in this example <b>mercury</b> -- you can also use <b>mercury.sun.com</b>).
Add a minimum of three rules for debugging purposes.
<p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Xvnc:1|http://localhost:5801/portal.vnc|5801:mercury:5801|5901|mercury|5901</b>
<br><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Xvnc:2|http://localhost:5802/portal.vnc|5802:mercury:5802|5902|mercury|5902</b>
<br><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Xvnc:3|http://localhost:5803/portal.vnc|5803:mercury:5803|5903|mercury|5903</b></div>
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
...</b></ol>

<ol START=8>
<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Uncheck
<b>Warning
Popup For Connections</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Submit
</b>then<b>
Continue</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Logout
<font color="#FF0000">(must
be done to set the changes)</font></b></div>
</ol>

<h2 CLASS="western">
<a NAME="Step 5: Using Grid Portal"></a>Step 5: Using Sun Grid Portal</h2>
Access SunONE Portal Server via the link <b>https://mercury.sun.com/</b>.
When you login, a small <b>Netlet</b> window will pop up. The first time
it runs, it will pop up a series of dialogs asking for additional permissions.
You must <b>Grant</b> all these permissions, or the netlet will not work.
This window hosts the netlet applet, which is required for tunneling the
Xvnc protocol through the portal. Heed the warning in the window about
not closing it. You will also find a netlet channel on your desktop, with
a note saying <b>No netlet</b> <b>targets configured </b>(unless you have
configured other, non Xvnc netlet targets). This comment is not entirely
accurate; targets are configured for Xvnc, but they do not show up in the
Netlet channel. Do not remove this channel from your desktop. Also, the
Netlet window does not dismiss itself when you logout. You must manually
dismiss it, or netlet functions will not work the next time you login.
<p>In the portal server, the <b>Project List</b>, <b>Job List</b>, and
<b>Application
List</b> channels should be visible. If logged in as root or as an administrative
user there will be <b>Admin Application List</b> and <b>Job Control</b>
channels. (If these channels display errors, check for incorrect paths
and make sure Grid Engine is accessible from the portal. Also it is sometimes
helpful to view the source behind the channels, which can be accomplished
by right clicking on the mouse and selecting the <b>View Source </b>option.)
<p>Users can select which channels they wish to have visible by checking
on the <b>Content</b> switch. The order in which channels are displayed
can be set by the
<b>Layout</b> switch.
<p>The <b>Job List</b> channel should contain the message <b>You have no
running jobs</b>. This message shows that contact with Grid Engine has
been established (<b>qstat</b> has executed successfully). (A Java error
in this window could indicate a problem communicating with Grid Engine.
Go back and verify that Grid Engine and SunONE Portal Server were installed
correctly. Try logging in directly as the user, executing the Grid Engine
settings script (<b>settings.sh</b>), and running
<b>qstat</b>.
<p>If you get Java exceptions, edit the <b>/opt/netscape/server4/https-mercury.sun.com/config/servlets.properties</b>
file by hand to reflect the correct paths. This should not happen after
a successful installation.
<p>The <b>Project List</b> contains a list of projects for the current
user. Projects are stored in the <b>suntcp</b> subdirectory of the <b>/export/GridPortal/workspace/username</b>
directory. A list of projects is kept in the file <b>.suntcp-list</b> in
the user's home directory. An example file might look like:
<p>Fasta_project Fasta Genome
<br>Blast_project Blast Genome
<br>Qmon_project qmon
<br>P1002129493410 New Project name
<p>where the first entry on each line corresponds to a specific directory
that was created by SGP in the user's workspace (e.g. <b>/export/GridPortal/workspace/username/suntcp/Fasta_project</b>)
and the second string (separated by a tab) corresponds to the name of the
project that is used in the <b>Project List</b> channel. If there are no
Projects, then you can add a project by clicking on the <b>Create new project</b>
link. <b><font color="#FF0000">(Note:&nbsp; Use of any other character
than a </font><font color="#000000">Tab</font><font color="#FF0000"> to
delineate the entries will result in a variety of strange errors.&nbsp;
If you edit these files by hand, be sure that your editor is not inserting
multiple spaces in place of tabs.)</font></b>
<p>Finally the <b>Application List </b>channel should contain a list of
applications that was installed in the Application directory <b>(/export/GridPortal/apps)
</b>during
the SGP installation process.&nbsp; If there are no applications, make
sure the application files were installed correctly in the applications
directory.
<p>Now you are ready to run a job. Click the <b>Submit new job</b> link
in the <b>Job List </b>channel. Select the Fasta Genome project. Use the
default values for Algorithm, and Query file. Select the first database
in the list. Click submit. (If this project is not available, create a
project for the Sleeper Demo application. Then submit this job. The input
argument is simply the number of seconds you want the processor to sleep).
When the screen refreshes, the job should appear. Click on the job for
detailed information from Grid Engine. Make sure the job is executing.
If it is waiting for a queue, for example, Grid Engine may not be properly
configured.
<p>If an error is detected, you can attempt to debug it by executing the
job by hand. First, you will need to go to the <b>/export/GridPortal/workspace/username/suntcp</b>
directory of the user that logged into the portal. This directory should
contain a list of projects. Look at the
<b>.suntcp-list</b> file to determine
which project directory you just used, then go to the appropriate project
directory.
<p>Two files that should be in this directory are<b> .suntcp-su</b> and
<b>.suntcp-qsub</b>.
The Grid Portal executes the <b>.suntcp-su</b> script, which in turn executes
the <b>.suntcp-qsub</b> script. Try executing these by hand. Any errors
detected should indicate possible errors in the Grid Engine, SunONE Portal
Server or Grid Portal setup. Common errors include incorrect permission
settings on the application or queue problems with Grid Engine.
<p>Next try submitting a job that uses an X-windows interface. Go to the
<b>Qmon</b>
subdirectory of the applications directory. Create a <b>qmon</b> project
if there is not already one. Then submit this project as a new job.
<p>[Note: The SunONE Portal Server netlet which tunnels the X11 SGP connection
between client and server is sensitive to your browser's proxy settings.
In addition, it cannot understand so-called PAC (proxy auto-config) files
(yet). This means the netlet will use whatever settings are under your
Netscape <b>Manual ProxyConfiguration</b> settings, even if you're configured
to use the <b>Automatic Configuration</b>. So either make sure the settings
under the Manual configuration are reasonable, or select <b>Direct connection
to the</b> <b>internet</b>, whichever is appropriate for your configuration.]
<p>When submitting a job that utilizes X11, the first time you do so after
logging in, a new X server is launched for you, and an applet window is
displayed in your browser. This applet is essentially your X display. Your
job should appear in this window shortly. You can leave this window open
for the duration of your portal session, and any new applications utilizing
X will appear in this window.
<p>Alternatively, you can explicitly start the X session by clicking the
<b>Launch
Xvnc server</b> bookmark, which you'll find in the Bookmarks channel of
your desktop. Once the X session has begun, other jobs launched which utilize
X will use the existing session.
<p>There is absolutely no X state kept on the applet side. If the applet
crashes, or you inadvertently close the window, you can restart the applet
one of two ways: via the <b>Launch Xvnc server</b> bookmark in your Bookmarks
channel, or by attempting to launch another X-based application. Either
way, SGP notices you already have a session active, and provides you a
link to just restart the viewer applet. Click that link, and you should
find the X display exactly as you left it.
<p>The X session automatically terminates when you logout of the portal.
In addition, a <b>Kill Xvnc server</b> bookmark is provided for you if
you want to do so manually. While killing the Xvnc server seems to kill
any jobs running under it, it is not recommended to rely on this behavior.
It's better to make sure your X-based jobs are no longer running before
killing the X session explicitly or logging out.
<h2 CLASS="western">
<a NAME="Step 6: Register New Applications with SGP"></a>Step 6: Register
New Applications with Sun Grid Portal</h2>

<div CLASS="western">Registering applications with SGP involves editing
two files and (if desired) creating a form. (Note: Use only characters
a-z 0-9, space, tab, and underscore in the SGP files. Characters such as
quotation marks or apostrophes can cause errors)</div>

<ol>Edit the <b>.suntcp-list</b> file in the applications directory specified
above. This file contains lines, each with two entries of the form <b><i>directory</i>
(tab) <i>Application Description</i></b>. Add a new line with the directory
that the application will execute from, then a <b>tab</b> character, then
a description that will show up in the Portal. Create the directory and
place the executable there. The executable can be a script, a link, or
an actual binary. Make sure any relevant data files are accessible from
this directory.
<b><font color="#FF0000">(Note: Use of any other character
than a </font><font color="#000000">Tab
</font><font color="#FF0000">to
delineate the entries will result in a variety of strange errors.&nbsp;
If you edit thse files by hand, make sure that your editor is not inserting
multiple spaces in place of Tabs.)</font></b></ol>
Create a <b>.suntcp-app</b> file in the directory just created. For examples,
look at the equivalent file in other application directories. This file
contains the following lines:
<p>Line 1- An application description (version etc.)
<br>Line 2- The name of the executable
<br>Line 3- yes/mpi/no Whether or not the application runs SMP/MPI/ or
Sequential
<br>Line 4- yes/no Whether the application uses an X-windows interface
<br>Line 5- yes/no Whether the application uses a form
<br>Line 6- List of users who have access to the application (optional)
<b><font color="#FF0000">(Note:
If no user access list is being</font></b>
<br><b><font color="#FF0000">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
defined, Line 6 must be a blank line.)</font></b>
<br>Line 7- Additional lines can be inserted directly into the script that
is submitted to Grid Engine. Useful examples can be
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Grid Engine commands (e.g.<b> #$ -q qname</b>) or environment variables
(e.g. <b>export Option=2</b>). Place each command
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
on a separate line.
<p>Create an HTML/JavaScript form if Line 5 contains <b>yes</b>. This file
must be named <b>.suntcp-form</b>. Example forms for use as templates can
be found in the existing application directories. Forms are responsible
for creating the execution line arguments. (Technical note: the<b> form.elements[0]</b>
element is reserved to make sure the form returns to the proper location.
Do not modify the lines of code that use this element. Begin modifying
the [1] element.)
<h2 CLASS="western">
<a NAME="A Tip for Developers"></a>A Tip for Developers</h2>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">To
build Grid Portal from scratch, checkout the sources from <b>gridengine-private.sunsource.net</b>.&nbsp;
Make sure that <b>/opt/SUNWips/lib/*</b> are readable and the O'Reilly
servlet is in the classpath.</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;
<br><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
% cd gridengine-private/gp</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
% unzip /tmp/cos-27May2002.zip lib/cos.jar</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
% cd glue</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
% make distclean</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
% make dist</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;
<br>This generates the distribution <b>gridportal.tar.gz</b>. This file
is installed as outlined earlier.&nbsp; Alternatively, if you have already
installed SGP previously and want to modify the Java source code (either
<b>AdminTCP.java</b>
or <b>SunTCP.java</b>) and then implement those modifications in the existing
installed software, just execute the commands above followed by the command:
<p><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
cp classes/suntcp.jar /export/GridPortal/lib</b>
<p>You will then need to restart the portal server and gateway as previously
described.</div>

<h1 CLASS="western" STYLE="page-break-before: always">
<a NAME="Appendix A: Adding Channels Manually"></a>Appendix A: Adding Channels
Manually</h1>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">In
this section we will manually add the content providers to the default
domain <b>suntcp</b>.&nbsp; Three channels -<b> Project List</b>,
<b>Application
List </b>and&nbsp;<b> Job List</b> are added to the Default Role for users
from the <b>SunTCP</b> servlet. Two channels -&nbsp;<b> Admin Application
List</b> and&nbsp;<b> Job Control</b> are added to the Admin Role from
the <b>AdminTCP</b> servlet. The functions added from the <b>AdminTCP</b>
servlet provide greater control to create applications and to perform auditing
functions.&nbsp; To accept the default configuration, just answer yes during
the installation when asked about adding channels.&nbsp; Alternatively
the procedure below can be followed, and modified as desired.&nbsp; The
<b>netlet</b>
configuration must still be completed by hand.</div>

<ol>
<div STYLE="margin-bottom: 0in">Open a browser window and go to the URL
<b>http://mercury.sun.com:8080/console</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Login
as root (or an administrative user) with the system root passwd</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Manage
Domains</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Click
on <b>suntcp</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Desktop
Channel Wizard</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Channel name:<b> suntcpProjectList</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Channel description: <b>Directory spaces (projects) for the applications
to run under</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>URL scraper</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Next</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Title:
<b>Project List</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Content URL: <b>/SunTCP?action=projectList</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Finish</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select'<b>Continue</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select<b>
Desktop Channel Wizard</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Channel name: <b>suntcpApplicationList</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Channel description: <b>List of applications available through the SGP</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>URL scraper</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Next</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Title:
<b>Application List</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Content URL: <b>/SunTCP?action=applicationList</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Finish</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select<b> Continue</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Desktop
Channel Wizard</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Channel name<b>: suntcpJobList</b>
<br>&nbsp;&nbsp;&nbsp; Channel description:<b> List of running jobs in
the SGP portal</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>URL scraper</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Next</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Title:
<b>Job List</b>
<br>&nbsp;&nbsp;&nbsp; Content URL: <b>/SunTCP?action=jobList</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Finish</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Continue</b>
<p><b>Now provide the channels for the user</b></div>
</ol>

<ol>
<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Manage
Domains</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>suntcp</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select the key next to <b>Applications</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select<b> Desktop</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>suntcpJobList</b> in the <b>Available Channels</b> box</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Edit Channel</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Show Advanced Options</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Change width from <b>thick</b> to <b>thin</b> (Puts the joblist on the
left of the window)</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Submit</b>, then <b>Continue</b>, then <b>Back to Overview</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Move the three new channels that we just added to the <b>Selected Channels
</b>box</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Submit</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;
Select the <b>iwtBookmarkProvider</b> in the <b>Available Channels</b>
box and click <b>Edit Channel</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Add the following bookmarks exactly as shown:</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Launch Xvnc server|/SunTCP?action=launchserver</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Kill XVNC server|/SunTCP?action=launchvncserver&amp;kill=yes</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Submit</b> and then <b>Continue</b></div>
</ol>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Now add the channels for the Admin role</b></div>

<ol START=10>
<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Manage
Domains</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>suntcp</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Admin
Role</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Desktop
Channel Wizard</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Channel name:<b> suntcpAdminApplicationList</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Channel description<b>: List of applications available through the SGP</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>URL scraper</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Next</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Title:
<b>Admin Application List</b></div>

<div STYLE="margin-bottom: 0in">&nbsp;&nbsp;&nbsp; Content URL: <b>/AdminTCP?action=applicationList</b></div>

<div STYLE="margin-bottom: 0in">&nbsp;&nbsp;&nbsp; Select <b>Finish</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Continue</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select<b>
Desktop Channel Wizard</b>
<br>&nbsp;&nbsp;&nbsp; Channel name: <b>suntcpAdminJobControl</b>
<br>&nbsp;&nbsp;&nbsp; Channel description: <b>Monitoring console for jobs
submitted through the SGP</b>
<br>&nbsp;&nbsp;&nbsp; Select
<b>URL scraper</b>
<br>&nbsp;&nbsp;&nbsp; Select
<b>Next</b>
<br>&nbsp;&nbsp;&nbsp; Title:
<b>Job Control</b>
<br>&nbsp;&nbsp;&nbsp; Content URL: <b>/AdminTCP?action=jobList</b>
<br>&nbsp;&nbsp;&nbsp; Select
<b>Finish</b>
<br>&nbsp;&nbsp;&nbsp; Select
<b>Continue</b></div>
</ol>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Now provide the channels for the Admins </b>(still in the Admin Role)</div>

<ol START=15>
<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select<b>
Manage Domains</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>suntcp</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select the key next to <b>Applications</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Desktop</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select the <b>suntcpJobControl</b> channel in the <b>Available Channels</b>
box</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Edit Channel</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;
Select
<b>Show Advanced Options</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Change width from <b>thick</b> to <b>thin</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Click
<b>Submit</b> and then <b>Continue</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
Select
<b>Back to Overview</b>
<br>Move the two new Admin channels and the three previous User channels
to the <b>Selected Channels</b> box as was
<br>&nbsp;&nbsp;&nbsp; done previously</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Submit</b>
and then<b> Continue</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;
<br><b>Now forward the cookies of all the channels</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;
<br>Select
<b>Manage Domains</b>
<br>Select <b>suntcp</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Select
<b>Policy</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">&nbsp;&nbsp;&nbsp;
In the<b> iwt"channel-name"-cookiesToForward</b> section add a * or the
name of your SunONE Portal Server
<br>&nbsp;&nbsp;&nbsp; session cookie (which is SunONE Portal Server by
default) to each of the channels that you just added.</div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none">Click
<b>Submit</b></div>

<div STYLE="margin-bottom: 0in; font-variant: normal; font-style: normal; text-decoration: none"><b>Logout
<font color="#FF0000">(This
is important. Changes are not updated until Logout.)</font></b></div>
</ol>

<h1 CLASS="western">
<a NAME="Appendix B - Screen shots"></a>Appendix B - Screen shots</h1>
The image below is the authentication window for a domain created during
a Proof of Concept project undertaken by Sun Microsystems and the University
of Queensland in Australia. This domain is for the Institute for Molecular
Biology and uses UNIX as an authentication method into their NIS domain.
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<p><img SRC="gp_login.png" NAME="GP Login Screen" BORDER=0 height=768 width=1024 align=BOTTOM>
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;

<p STYLE="page-break-before: always">The image below shows the <b>Admin</b>
user window for the IMB domain.&nbsp; (Note that the channel names are
slightly different from what you will see when you install the SGP software)
<p>Note that all five applications as channels have been provisioned into
this role user. You can see that in the <b>Job List </b>window there is
a <b>Submit
</b>option, whereas in the <b>Job Monitor</b> window this option
has been replaced by <b>Perform accounting</b>. You can also see that the
<b>Admin</b>
<b>Application List</b> and <b>Application List </b>content is differentiated
by the option <b>Add a new</b> <b>application</b>. This option does not
appear in the<b> Application List</b> window (seen as the middle window
above<b> Project List</b>).
<p><img SRC="gp_channels.png" NAME="GP Channel Screen" BORDER=0 height=768 width=1024>
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;

<p STYLE="page-break-before: always">The image below shows the end user's
desktop. End users are provisioned into a role referred to as researcher.
<p>This user has the channels to be able to create projects, see and select
applications and submit jobs against the Grid Engine cluster.
<p><img SRC="gp_channels2.png" NAME="GP Channel Screen 2" BORDER=0 height=768 width=1024>
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
<br>&nbsp;
</body>
</html>
