'\" t
.\"___INFO__MARK_BEGIN__
.\"
.\" Copyright: 2004 by Sun Microsystems, Inc.
.\"
.\"___INFO__MARK_END__
.\" $RCSfile: sge_commd.8,v $     Last Update: $Date: 2004/04/19 10:52:13 $     Revision: $Revision: 1.7 $
.\"
.\"
.\" Some handy macro definitions [from Tom Christensen's man(1) manual page].
.\"
.de SB		\" small and bold
.if !"\\$1"" \\s-2\\fB\&\\$1\\s0\\fR\\$2 \\$3 \\$4 \\$5
..
.\"
.de T		\" switch to typewriter font
.ft CW		\" probably want CW if you don't have TA font
..
.\"
.de TY		\" put $1 in typewriter font
.if t .T
.if n ``\c
\\$1\c
.if t .ft P
.if n \&''\c
\\$2
..
.\"
.de M		\" man page reference
\\fI\\$1\\fR\\|(\\$2)\\$3
..
.TH xxQS_NAME_Sxx_COMMD 8 "$Date: 2004/04/19 10:52:13 $" "xxRELxx" "xxQS_NAMExx Administrative Commands"
.SH NAME
xxqs_name_sxx_commd \- xxQS_NAMExx communication agent
.\"
.\"
.SH SYNOPSIS
.B xxqs_name_sxx_commd
[
.B \-S
] [
.B \-a aliasfile
] [
.B \-dhr
] [
.B \-help
] [
.B \-ll loglevel
] [
.B \-ml fname
] [
.B \-nd
] [
.B \-p port
] [
.B \-s service
]
.\"
.\"
.SH DESCRIPTION
All network communication in a xxQS_NAMExx cluster is performed via the
communication daemons \fIxxqs_name_sxx_commd\fP. Client programs like
.M qsub 1
or
.M qstat 1
as well as xxQS_NAMExx daemons such as
.M xxqs_name_sxx_qmaster 8
or
.M xxqs_name_sxx_execd 8
use the service provided by
.I xxqs_name_sxx_commd
in order to send/receive messages to/from other xxQS_NAMExx components.
.PP
.I xxqs_name_sxx_commd
handles an arbitrary number of concurrent synchronous or asynchronous
communications. Usually one
.I xxqs_name_sxx_commd
is started up automatically on each host on which
.M xxqs_name_sxx_qmaster 8 ,
.M xxqs_name_sxx_execd 8
or/and
.M xxqs_name_sxx_schedd 8
are invoked. It is however possible to connect multiple hosts
via one
.I xxqs_name_sxx_commd
or to use a
.I xxqs_name_sxx_commd
on a submit or administrative xxQS_NAMExx host (without running one of the other
xxQS_NAMExx daemons) as communication agent for the xxQS_NAMExx client programs
invoked from that host.
.\"
.\"
.SH OPTIONS
.\"
.IP "\fB\-S\fP"
Forces secure ports to be used for communication between
\fIxxqs_name_sxx_commd\fPs and between other xxQS_NAMExx components and
the \fIxxqs_name_sxx_commd\fPs. This requires all xxQS_NAMExx daemons to
be started with root permission and the client programs
to be configured set-uid root. In turn, it ensures that
unauthorized communication is prohibited for non-root
accounts.
.\"
.IP "\fB\-a aliasfile\fP"
A file containing xxQS_NAMExx host aliases used by the
.I xxqs_name_sxx_commd
to resolve xxQS_NAMExx unique hostnames for all hosts in the
cluster. Overrides the usage of the default host_aliases file
under 
\fI<xxqs_name_sxx_root>/<cell>/common/host_aliases.\fP
The hostname resolving service of
.I xxqs_name_sxx_commd
is also used by all other xxQS_NAMExx components.
The file format and the implication of its usage are
described in
.M xxqs_name_sxx_h_aliases 5 .
.\"
.IP "\fB\-dhr\fP"
The hostname resolving C-library functions (such as
.M gethostent 3 ,
.M gethostbyname 3
and
.M gethostbyaddr 3 )
perform some kind of caching on some OS architectures.
Network wide hostname databases distributed by services
such as DNS (Domain Name Service) and NIS (Network
Information Service) are updated with a delay of several
minutes. This only affects applications which repeatedly resolve
hostnames (such as \fIxxqs_name_sxx_commd\fP). At start-up of a program
the most recent information is accessed, thus commands like
.M telnet 1
or
.M nslookup 1
are not affected.
.br
However, for
.I xxqs_name_sxx_commd
it makes no sense to resolve hostnames anytime (the returned
information may be out of date anyway) and resolving can be
an expensive operation if the network is overloaded and/or
NIS or DNS servers are very busy. Therefore,
.I xxqs_name_sxx_commd
resolves hostname information from time to time only.
.br
Yet, if
hostname resolving still causes problems due to network load, for
example, it can be turned off with the \fB\-dhr\fP switch.
The administrator has to be aware, that if the hostname resolving
is turned off,
.I xxqs_name_sxx_commd
has to be restarted as soon as the hostname databases change
significantly.
.\"
.IP "\fB\-help\fP"
Prints  a listing of all options.
.\"
.IP "\fB\-ll loglevel\fP"
Sets a logging level for error tracing. The error trace information
is written to the file \fI/tmp/commd/err.<pid>\fP. However, the
directory \fI/tmp/commd\fP must be present, otherwise the tracing
output is discarded. At present, 255 is the only valid logging level.
.\"
.IP "\fB\-ml fname\fP"
Enables message logging to file.
.\"
.IP "\fB\-nd\fP"
Do not daemonize. If started with \fB\-nd\fP,
.I xxqs_name_sxx_commd
maintains its connection to the controlling terminal and thus
outputs trace information directly to the terminal from which
.I xxqs_name_sxx_commd
was invoked. The trace information is the same as being accessible
via the \fB\-ll\fP option (see above).
.\"
.IP "\fB\-p port_number\fP"
Use this TCP port for communication with other commds.
.\"
.IP "\fB\-s service_name\fP"
Use this service name and thus the associated TCP port for communication
with other commds.
.\"
.\"
.SH "ENVIRONMENTAL VARIABLES"
.\" 
.IP "\fBxxQS_NAME_Sxx_ROOT\fP" 1.5i
Specifies the location of the xxQS_NAMExx standard configuration
files.
.\" 
.IP "\fBCOMMD_PORT\fP" 1.5i
If set, specifies the tcp port on which
.I xxqs_name_sxx_commd
is expected to listen for communication requests.
Most installations will use a services map entry instead
to define that port.
.\"
.\"
.SH RESTRICTIONS
.I xxqs_name_sxx_commd
usually is invoked by a starting
.M xxqs_name_sxx_qmaster 8
and
.M xxqs_name_sxx_execd 8
and thus is running under root permission.
If started by a normal user the \fB\-S\fP switch may not be used as
the secure mode requires root permission (see above).
.\"
.\"
.SH "SEE ALSO"
.M xxqs_name_sxx_intro 1 ,
.M xxqs_name_sxx_h_aliases 5 ,
.M xxqs_name_sxx_execd 8 ,
.M xxqs_name_sxx_qmaster 8 ,
.M commdcntl 8 .
.\"
.SH "COPYRIGHT"
See
.M xxqs_name_sxx_intro 1
for a full statement of rights and permissions.
