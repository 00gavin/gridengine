'\" t
.\"___INFO__MARK_BEGIN__
.\" 
.\" 
.\"  The Contents of this file are made available subject to the terms of
.\"  the Sun Industry Standards Source License Version 1.2
.\" 
.\"  Sun Microsystems Inc., March, 2001
.\" 
.\" 
.\"  Sun Industry Standards Source License Version 1.2
.\"  =================================================
.\"  The contents of this file are subject to the Sun Industry Standards
.\"  Source License Version 1.2 (the "License"); You may not use this file
.\"  except in compliance with the License. You may obtain a copy of the
.\"  License at http://www.gridengine.sunsource.net/license.html
.\" 
.\"  Software provided under this License is provided on an "AS IS" basis,
.\"  WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING,
.\"  WITHOUT LIMITATION, WARRANTIES THAT THE SOFTWARE IS FREE OF DEFECTS,
.\"  MERCHANTABLE, FIT FOR A PARTICULAR PURPOSE, OR NON-INFRINGING.
.\"  See the License for the specific provisions governing your rights and
.\"  obligations concerning the Software.
.\" 
.\"  The Initial Developer of the Original Code is: Sun Microsystems, Inc.
.\" 
.\"  Copyright: 2001 by Sun Microsystems, Inc.
.\" 
.\"  All Rights Reserved.
.\" 
.\" 
.\"___INFO__MARK_END__
.\" $RCSfile: sgecommdcntl.8,v $     Last Update: $Date: 2001/07/19 15:55:38 $     Revision: $Revision: 1.2 $
.\"
.\"
.\" Some handy macro definitions [from Tom Christensen's man(1) manual page].
.\"
.de SB		\" small and bold
.if !"\\$1"" \\s-2\\fB\&\\$1\\s0\\fR\\$2 \\$3 \\$4 \\$5
..
.\"
.de T		\" switch to typewriter font
.ft CW		\" probably want CW if you don't have TA font
..
.\"
.de TY		\" put $1 in typewriter font
.if t .T
.if n ``\c
\\$1\c
.if t .ft P
.if n \&''\c
\\$2
..
.\"
.de M		\" man page reference
\\fI\\$1\\fR\\|(\\$2)\\$3
..
.TH xxQS_NAME_SxxCOMMDCNTL 8 "$Date: 2001/07/19 15:55:38 $" "xxRELxx" "xxQS_NAMExx Administrative Commands"
.SH NAME
xxqs_name_sxxcommdcntl \- xxQS_NAMExx communication agent control command
.\"
.\"
.SH SYNOPSIS
.B xxqs_name_sxxcommdcntl
[
.B \-d
|
.B \-k
|
.B \-t level
] [
.B \-gid commprocname
] [
\fB\-h\fP[\fBelp\fP]
] [
.B \-p port
] [
.B \-S
] [
.B \-unreg commprocname id
]
.\"
.\"
.SH DESCRIPTION
.I xxqs_name_sxxcommdcntl
can be used to control the behavior of
.M xxqs_name_sxx_commd 8
or to retrieve information from a running
.M xxqs_name_sxx_commd 8 .
.\"
.\"
.SH OPTIONS
.\"
.IP "\fB\-d\fP"
Dump internal structures of the running
.M xxqs_name_sxx_commd 8
process to \fI/tmp/commd/commd.dump\fP. The directory
\fI/tmp/commd\fP must exist and
.M xxqs_name_sxx_commd 8
must have write access to it. The request is ignored
otherwise.
.br
This option is mainly intended for debugging purposes.
The functionality of the addressed
.M xxqs_name_sxx_commd 8
is not affected.
.\"
.IP "\fB\-k\fP"
Kill the addressed
.M xxqs_name_sxx_commd 8 .
Pending communications at the time of a kill request will
be discarded immediately, yet the shutdown of a
.M xxqs_name_sxx_commd 8
will not leave the processes being connected to
the aborting process in an inconsistent state.
.\"
.IP "\fB\-t level\fP"
.I xxqs_name_sxxcommdcntl
establishes a connection to
.M xxqs_name_sxx_commd 8
and displays continuous trace output corresponding the
trace level specified by \fBlevel\fP. The output consists
of a subset of the trace output displayed if
.M xxqs_name_sxx_commd 8
is invoked with the \fB\-ll\fP option.
.br
Currently the only trace level being supported is 255.
.\"
.IP "\fB\-gid commprocname\fP"
Retrieve communication process identification number
of \fBcommprocname\fP.
xxQS_NAMExx components which enroll to
.M xxqs_name_sxx_commd 8
to be able to communicate with other xxQS_NAMExx processes
are registered by
.M xxqs_name_sxx_commd 8
with an unique identification consisting of a name
and an identification number. The identification name
is identical with the name of the xxQS_NAMExx component
(e.g. \fBxxqs_name_sxx_qmaster\fP for
.M xxqs_name_sxx_qmaster 8 ).
The identification number can be retrieved by the
\fB\-gid\fP option.
.\"
.IP "\fB\-help\fP"
Prints  a listing of all options.
.\"
.IP "\fB\-p commdport\fP"
Port number to be used in order to address
.M xxqs_name_sxx_commd 8 .
.\"
.IP "\fB\-S\fP"
Forces secure ports to be used for communication between
\fIxxqs_name_sxx_commd\fPs and between other xxQS_NAMExx components and
the \fIxxqs_name_sxx_commd\fPs. This requires all xxQS_NAMExx daemons to
be started with root permission and the client programs
to be configured set-uid root. In turn, it ensures that
unauthorized communication is prohibited for non-root
accounts.
.\"
.IP "\fB\-unreg commprocname id\fP"
Unregister xxQS_NAMExx component \fBcommprocname\fP registered
with Id \fBid\fP to
.M xxqs_name_sxx_commd 8
(see the \fB\-gid\fP above for a description of
\fBcommprocname\fP and \fBid\fP).
.br
To unregister a xxQS_NAMExx component from
.M xxqs_name_sxx_commd 8
can become necessary if a xxQS_NAMExx daemon such as
.M xxqs_name_sxx_qmaster 8 ,
.M xxqs_name_sxx_execd 8
or
.M xxqs_name_sxx_schedd 8
is aborted in an uncontrolled fashion (e.g. by sending
the signal SIGKILL via
.M kill 1 )
and
.M xxqs_name_sxx_commd 8
denies restart of that component with the message
\fBerror enrolling to commd: COMMPROC ALREADY REGISTERED\fP.
.br
The registration facility of
.M xxqs_name_sxx_commd 8
is used to avoid redundant xxQS_NAMExx daemons running on the
same host. If a xxQS_NAMExx component is aborted but unable
to unregister from
.M xxqs_name_sxx_commd 8
the registration is kept alive until a time-out of several
minutes passes or until the communication process is
unregistered manually.
.\"
.\"
.SH "ENVIRONMENTAL VARIABLES"
.\" 
.IP "\fBCOMMD_PORT\fP" 1.5i
If set, specifies the tcp port on which
.I xxqs_name_sxxcommdcntl
is expected to listen for communication requests.
Most installations will use a services map entry instead
to define that port.
.\"
.IP "\fBCOMMD_HOST\fP" 1.5i
If set, specifies the host on which the particular
.I xxqs_name_sxx_commd
to be used for xxQS_NAMExx communication of 
.I xxqs_name_sxxcommdcntl
resides. Per default the local host is used.
.\"
.\"
.\"
.SH "SEE ALSO"
.M xxqs_name_sxx_intro 1 ,
.M xxqs_name_sxx_commd 8 ,
.M xxqs_name_sxx_execd 8 ,
.M xxqs_name_sxx_qmaster 8 ,
.M xxqs_name_sxx_schedd 8 .
.\"
.SH "COPYRIGHT"
See
.M xxqs_name_sxx_intro 1
for a full statement of rights and permissions.
