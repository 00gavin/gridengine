'\" t
.\"___INFO__MARK_BEGIN__
.\"
.\" Copyright: 2001 by Sun Microsystems, Inc.
.\"
.\"___INFO__MARK_END__
.\" $RCSfile: sge_execd.8,v $     Last Update: $Date: 2001/07/18 11:04:50 $     Revision: $Revision: 1.1 $
.\"
.\"
.\" Some handy macro definitions [from Tom Christensen's man(1) manual page].
.\"
.de SB		\" small and bold
.if !"\\$1"" \\s-2\\fB\&\\$1\\s0\\fR\\$2 \\$3 \\$4 \\$5
..
.\"
.de T		\" switch to typewriter font
.ft CW		\" probably want CW if you don't have TA font
..
.\"
.de TY		\" put $1 in typewriter font
.if t .T
.if n ``\c
\\$1\c
.if t .ft P
.if n \&''\c
\\$2
..
.\"
.de M		\" man page reference
\\fI\\$1\\fR\\|(\\$2)\\$3
..
.TH xxQS_NAME_Sxx_EXECD 8 "$Date: 2001/07/18 11:04:50 $" "xxRELxx" "xxQS_NAMExx Administrative Commands"
.SH NAME
xxqs_name_sxx_execd \- xxQS_NAMExx job execution agent
.\"
.\"
.SH SYNOPSIS
.B xxqs_name_sxx_execd
[
.B \-help
] [
.B \-lj log_file
] [
.B \-nostart-commd
]
.\"
.\"
.SH DESCRIPTION
.PP
.I xxqs_name_sxx_execd
controls the xxQS_NAMExx queues local to the machine
.I xxqs_name_sxx_execd
is running on and executes/controls the jobs sent from
.M xxqs_name_sxx_qmaster 8
to be run on these queues.
.br
Together with
.I xxqs_name_sxx_execd
a
.M xxqs_name_sxx_commd 8
is brought up automatically on the same machine (if not
already present).
.\"
.\"
.SH OPTIONS
.\"
.SS "\fB\-help\fP"
Prints  a listing of all options.
.\"
.SS "\fB\-lj log_file\fP"
Enables job logging. All actions taken by 
.I xxqs_name_sxx_execd
from receiving the job until returning it to
.M xxqs_name_sxx_qmaster 8
are logged to the log_file. This feature is also available with
the
.M xxqs_name_sxx_qmaster 8
daemon.
.\"
.\"
.SS "\fB\-nostart-commd\fP"
Do not start up
.M xxqs_name_sxx_commd 8
automatically with \fIxxqs_name_sxx_execd\fP and evaluate the COMMD_HOST
environment variable to find the corresponding
.M xxqs_name_sxx_commd 8 .
.\"
.\"
.SH "LOAD SENSORS"
If a \fBload sensor\fP is configured for
.I xxqs_name_sxx_execd
via either the global or the 
execution host specific cluster configuration (see
.M xxqs_name_sxx_conf 5 )
the 
executable path of the load sensor is invoked by
.I xxqs_name_sxx_execd
on a regular basis 
and delivers one or multiple load figures for the execution host (e.g.
users currently logged in) or on the complete cluster (e.g. free
disk space on a network wide scratch file system). The load
sensor may be a script or a binary executable. In either case
its handling of the STDIN and STDOUT stream and its control
flow must comply to the following rules:
.PP
The load sensor has to be written as infinite loop waiting at
a certain point for input from STDIN. If the string
.B quit
is read from STDIN, the load sensor is 
supposed to exit.  As soon as an
end-of-line is read from STDIN a load data retrieval cycle is
supposed to start. The load sensor then performs whatever
operation is necessary to compute the desired load figures.
At the end of the cycle the load sensor writes the result to
stdout. The format is as follows:
.IP "\(bu" 3n
A load value report starts with a line containing nothing but the word 
\fBstart\fP.
.IP "\(bu" 3n
Individual load values are separated by newlines.
.IP "\(bu" 3n
Each load value report consists of three parts separated by
colons (":") and containing no blanks.
.IP "\(bu" 3n
The first part of a load value information is either the name of
the host for which load is reported or the special name
"global".
.IP "\(bu" 3n
The second part is the symbolic name of the load value as
defined in the host or global complex list (see
.M complex 5
for details). If a load value is
reported for which no entry in the host or global complex
list exists, the reported load value is not used.
.IP "\(bu" 3n
The third part is the measured load value.
.IP "\(bu" 3n
A load value report ends with a line with the word \fBend\fP.
.\" 
.SH "ENVIRONMENTAL VARIABLES"
.\" 
.IP "\fBxxQS_NAME_Sxx_ROOT\fP" 1.5i
Specifies the location of the xxQS_NAMExx standard configuration
files.
.\"
.IP "\fBxxQS_NAME_Sxx_CELL\fP" 1.5i
If set, specifies the default xxQS_NAMExx cell. To address a xxQS_NAMExx
cell
.I xxqs_name_sxx_execd
uses (in the order of precedence):
.sp 1
.RS
.RS
The name of the cell specified in the environment 
variable xxQS_NAME_Sxx_CELL, if it is set.
.sp 1
The name of the default cell, i.e. \fBdefault\fP.
.sp 1
.RE
.RE
.\"
.IP "\fBxxQS_NAME_Sxx_DEBUG_LEVEL\fP" 1.5i
If set, specifies that debug information
should be written to stderr. In addition the level of
detail in which debug information is generated is defined.
.\"
.IP "\fBCOMMD_PORT\fP" 1.5i
If set, specifies the tcp port on which
.M xxqs_name_sxx_commd 8
is expected to listen for communication requests.
Most installations will use a services map entry instead
to define that port.
.\"
.IP "\fBCOMMD_HOST\fP" 1.5i
If set, specifies the host on which the particular
.M xxqs_name_sxx_commd 8
to be used for xxQS_NAMExx communication of the
.I xxqs_name_sxx_execd
client resides.
Only evaluated if the \fB-nostart-commd\fP option was
specified at the
.I xxqs_name_sxx_execd
command-line.
Per default the local host is used.
.\"
.\"
.SH RESTRICTIONS
.I xxqs_name_sxx_execd
usually is started from root on each machine in the xxQS_NAMExx pool.
If started by a normal user, a spool directory must be used to which
the user has read/write access. In this case only jobs being submitted
by that same user are treated correctly by the system.
.\"
.\"
.SH FILES
.nf
.ta \w'<xxqs_name_sxx_root>/     'u
\fI<xxqs_name_sxx_root>/<cell>/common/configuration\fP
	xxQS_NAMExx global configuration
\fI<xxqs_name_sxx_root>/<cell>/common/local_conf/<host>\fP
	xxQS_NAMExx host specific configuration
\fI<xxqs_name_sxx_root>/<cell>/spool/<host>\fP
	Default execution host spool directory
\fI<xxqs_name_sxx_root>/<cell>/common/act_qmaster\fP
	xxQS_NAMExx master host file
.fi
.\"
.\"
.SH "SEE ALSO"
.M xxqs_name_sxx_intro 1 ,
.M xxqs_name_sxx_conf 5 ,
.M complex 5 ,
.M xxqs_name_sxx_commd 8 ,
.M xxqs_name_sxx_qmaster 8 .
.\"
.SH "COPYRIGHT"
See
.M xxqs_name_sxx_intro 1
for a full statement of rights and permissions.
