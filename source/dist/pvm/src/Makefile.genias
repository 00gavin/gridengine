# Makefile
#

RM          = rm -f
PVMSDIR	   = ../pvm
PVM_CFLAGS  = -I$(PVM_ROOT)/include        
PVMOBJS     = start_pvm.o stop_pvm.o spmd.o master.o slave.o

pvm_all: $(PVMOBJS)
#---------------------------------------------------------------------

pvm_clean:
	$(RM) $(PVMOBJS)

pvm_depend:
	$(DEPEND) -f$(PVMSDIR)/pvm_dependencies $(PVM_CFLAGS) $(PVMSDIR)/*.c
#---------------------------------------------------------------------
# a pvm sample that needs group communication
spmd.o: $(PVMSDIR)/spmd.c
		$(CC) $(CFLAGS) $(PVM_CFLAGS) -c $(PVMSDIR)/spmd.c
#---------------------------------------------------------------------
# a sample pvm job without group communication
master.o: $(PVMSDIR)/master.c
		$(CC) $(CFLAGS) $(PVM_CFLAGS) -c $(PVMSDIR)/master.c

slave.o: $(PVMSDIR)/slave.c
		$(CC) $(CFLAGS) $(PVM_CFLAGS) -c $(PVMSDIR)/slave.c

#---------------------------------------------------------------------
# starter used in startpvm.sh
start_pvm.o: $(PVMSDIR)/start_pvm.c
		$(CC) $(CFLAGS) $(PVM_CFLAGS) -c $(PVMSDIR)/start_pvm.c

#---------------------------------------------------------------------
# starter used in startpvm.sh
stop_pvm.o: $(PVMSDIR)/stop_pvm.c
		$(CC) $(CFLAGS) $(PVM_CFLAGS) -c $(PVMSDIR)/stop_pvm.c
#---------------------------------------------------------------------
include $(PVMSDIR)/pvmdependencies
